{"version":3,"sources":["webpack:///0.chunk.6631f.js","webpack:///./routes/movies/style.css","webpack:///./components/movie/style.css","webpack:///./components/movie/index.js","webpack:///./routes/movies/movies-presentation.js","webpack:///./routes/movies/movies-container.js"],"names":["webpackJsonp","32yg","module","exports","movies","I8zr","movieCard","genreBadge","MZ9V","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_objectDestructuringEmpty","obj","movies_container__classCallCheck","instance","Constructor","movies_container__possibleConstructorReturn","movies_container__inherits","defineProperty","preact_min","style","style_default","n","preact_router_es","movie_style","movie_style_default","movie_Movie","_Component","Movie","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","apply","concat","element","componentDidMount","props","observer","observe","componentWillUnmount","unobserve","render","_ref","_this2","movie","class","a","join","ref","el","data-id","id","src","isVisible","image","alt","height","title","href","overview","genres","map","genre","movies_presentation__ref2","movies_presentation","movies_container_MoviesContainer","MoviesContainer","state","onIntersection","entries","forEach","entry","target","dataset","find","m","isIntersecting","setState","IntersectionObserver","POLL_INTERVAL","fetch","then","rsp","json","_ref2","d"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,GCFhBA,EAAAC,SAAkBC,OAAA,kBDSZC,KACA,SAAUH,GEVhBA,EAAAC,SAAkBG,UAAA,mBAAAC,WAAA,sBFiBZC,KACA,SAAUN,EAAQO,EAAqBC,GAE7C,YAuBA,SAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIC,WAAU,iEAAoED,GAAeD,GAASG,UAAYC,OAAOC,OAAOJ,GAAcA,EAAWE,WAAaG,aAAeC,MAAOP,EAAUQ,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeT,IAAYG,OAAOO,eAAiBP,OAAOO,eAAeX,EAAUC,GAAcD,EAASY,UAAYX,GAwHje,QAASY,GAA0BC,GAAO,GAAW,MAAPA,EAAa,KAAM,IAAIZ,WAAU,gCAE/E,QAASa,GAAiCC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIf,WAAU,qCAEjI,QAASgB,GAA4CtB,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAEnP,QAASsB,GAA2BnB,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIC,WAAU,iEAAoED,GAAeD,GAASG,UAAYC,OAAOC,OAAOJ,GAAcA,EAAWE,WAAaG,aAAeC,MAAOP,EAAUQ,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeT,IAAYG,OAAOO,eAAiBP,OAAOO,eAAeX,EAAUC,GAAcD,EAASY,UAAYX,GAtJlfG,OAAOgB,eAAe3B,EAAqB,cAAgBc,OAAO,GAGlE,IAAIc,GAAa3B,EAAoB,QAIjC4B,EAAQ5B,EAAoB,QAC5B6B,EAA6B7B,EAAoB8B,EAAEF,GAGnDG,EAAmB/B,EAAoB,QAGvCgC,EAAchC,EAAoB,QAClCiC,EAAmCjC,EAAoB8B,EAAEE,GGjCxCE,EHgDH,SAAUC,GAG1B,QAASC,KAKP,IAAK,GAJDC,GAAOC,EAAOC,EAITC,EAAOC,UAAUC,OAAQC,EAAOC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC3EF,EAAKE,GAAQJ,UAAUI,EAGzB,OAAeR,GAASC,EAAQrC,EAA2B6C,KAAMX,EAAWhC,KAAK4C,MAAMZ,GAAaW,MAAME,OAAOL,KAAiBL,EG3DpIW,QAAU,KH2DDV,EAAiJF,EAAQpC,EAA2BqC,EAAOC,GAkEpM,MA7EAlC,GAAU+B,EAAOD,GAcjBC,EAAM3B,UG5DNyC,kBH4DoC,WG3DlCJ,KAAKK,MAAMC,SAASC,QAAQP,KAAKG,UH+DnCb,EAAM3B,UG5DN6C,qBH4DuC,WG3DrCR,KAAKK,MAAMC,SAASG,UAAUT,KAAKG,UH+DrCb,EAAM3B,UG5DN+C,OH4DyB,SAAgBC,GG5DvB,GAAAC,GAAAZ,KAATa,EAASF,EAATE,KACP,OACEjD,QAAAiB,EAAA,UACEiC,OAAQ,OAAQ3B,EAAA4B,EAAMjE,WAAWkE,KAAK,KACtCC,IAAK,SAAAC,GAAA,MAAON,GAAKT,QAAUe,GAC3BC,UAASN,EAAMO,IAEfxD,OAAAiB,EAAA,UACEiC,MAAM,eACNO,IACER,EAAMS,UACFT,EAAMU,MACN,qHAENC,IAAI,iBACJC,OAAO,QAET7D,OAAAiB,EAAA,UAAKiC,MAAM,aACTlD,OAAAiB,EAAA,SAAIiC,MAAM,cAAcD,EAAMa,OAC9B9D,OAAAiB,EAAA,GAACI,EAAA,MAAK0C,KAAA,UAAgBd,EAAMO,IAA5B,QACAxD,OAAAiB,EAAA,QAAGiC,MAAM,aAAaD,EAAMe,WAE9BhE,OAAAiB,EAAA,UAAKiC,MAAM,0BACRD,EAAMgB,OAAOC,IAAI,SAAAC,GAAA,MAChBnE,QAAAiB,EAAA,WACEiC,OACE,QACA,aACA,aACA3B,EAAA4B,EAAMhE,YACNiE,KAAK,MAENe,QHmFNzC,GG9H0BT,EAAA,WHyI/BmD,EItIApE,OAAAiB,EAAA,uBJ4I6BoD,EAAsB,SI9IxCtB,GAAA,GAAG/D,GAAH+D,EAAG/D,OAAQ0D,EAAXK,EAAWL,QAAX,OACb1C,QAAAiB,EAAA,UAAKiC,MAAO/B,EAAAgC,EAAMnE,QAAlBoF,EAEEpE,OAAAiB,EAAA,UAAKiC,MAAM,aACRlE,EAAOkF,IAAI,SAAAjB,GAAA,MAASjD,QAAAiB,EAAA,GAACO,GAAMyB,MAAOA,EAAOP,SAAUA,SCNrC4B,EL8KkB,SAAU7C,GKzK/C,QAAA8C,KAAc5D,EAAAyB,KAAAmC,EAAA,IAAA3C,GAAAd,EAAAsB,KACZX,EAAAhC,KAAA2C,MADY,OAAAR,GAJd4C,OACExF,WAGY4C,EAMd6C,eAAiB,SAAAC,GAAW,GAClB1F,GAAW4C,EAAK4C,MAAhBxF,MAER0F,GAAQC,QAAQ,SAAAC,GACd,GAAMpB,IAAMoB,EAAMC,OAAOC,QAAQtB,GAC3BP,EAAQjE,EAAO+F,KAAK,SAAAC,GAAA,MAAKA,GAAExB,KAAOA,GACpCP,KACFA,EAAMS,UAAYT,EAAMS,WAAakB,EAAMK,kBAI/CrD,EAAKsD,UAAWlG,YAfhB4C,EAAKc,SAAW,GAAIyC,sBAAqBvD,EAAK6C,gBAC9C7C,EAAKc,SAAS0C,cAAgB,IAHlBxD,EL6Nd,MAnDAb,GAA2BwD,EAAiB9C,GAiC5C8C,EAAgBxE,UKvLhByC,kBLuL8C,WKvL1B,GAAAQ,GAAAZ,IAClBiD,OAAM,oBACHC,KAAK,SAAAC,GAAA,MAAOA,GAAIC,SAChBF,KAAK,SAAAtG,GAAA,MAAUgE,GAAKkC,UAAWlG,cL8LpCuF,EAAgBxE,UK3LhB+C,OL2LmC,SAAgBC,EAAM0C,GK3LlC,GAAVzG,GAAUyG,EAAVzG,MACX,OADqByB,GAAAsC,GACd/C,OAAAiB,EAAA,GAACoD,GAAmBrF,OAAQA,EAAQ0D,SAAUN,KAAKM,YLkMrD6B,GKlOoCtD,EAAA,ULuOd3B,GAAoBoG,EAAErG,EAAqB,UAAW,WAAa,MAAOiF","file":"0.chunk.6631f.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"32yg\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"movies\":\"movies__2myFi\"};\n\n/***/ }),\n\n/***/ \"I8zr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"movieCard\":\"movieCard__jy7Ol\",\"genreBadge\":\"genreBadge__1d5Jq\"};\n\n/***/ }),\n\n/***/ \"MZ9V\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./routes/movies/style.css\nvar style = __webpack_require__(\"32yg\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ./components/movie/style.css\nvar movie_style = __webpack_require__(\"I8zr\");\nvar movie_style_default = /*#__PURE__*/__webpack_require__.n(movie_style);\n\n// CONCATENATED MODULE: ./components/movie/index.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar movie_Movie = function (_Component) {\n  _inherits(Movie, _Component);\n\n  function Movie() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Movie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.element = null, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Movie.prototype.componentDidMount = function componentDidMount() {\n    this.props.observer.observe(this.element);\n  };\n\n  Movie.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.observer.unobserve(this.element);\n  };\n\n  Movie.prototype.render = function render(_ref) {\n    var _this2 = this;\n\n    var movie = _ref.movie;\n\n    return Object(preact_min[\"h\"])(\n      \"div\",\n      {\n        \"class\": [\"card\", movie_style_default.a.movieCard].join(\" \"),\n        ref: function ref(el) {\n          return _this2.element = el;\n        },\n        \"data-id\": movie.id\n      },\n      Object(preact_min[\"h\"])(\"img\", {\n        \"class\": \"card-img-top\",\n        src: movie.isVisible ? movie.image : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAoMBgDTD2qgAAAAASUVORK5CYII=\",\n        alt: \"Card image cap\",\n        height: \"140\"\n      }),\n      Object(preact_min[\"h\"])(\n        \"div\",\n        { \"class\": \"card-body\" },\n        Object(preact_min[\"h\"])(\n          \"h4\",\n          { \"class\": \"card-title\" },\n          movie.title\n        ),\n        Object(preact_min[\"h\"])(\n          preact_router_es[\"Link\"],\n          { href: \"/movie/\" + movie.id },\n          \"Edit\"\n        ),\n        Object(preact_min[\"h\"])(\n          \"p\",\n          { \"class\": \"card-text\" },\n          movie.overview\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        \"div\",\n        { \"class\": \"card-footer text-cente\" },\n        movie.genres.map(function (genre) {\n          return Object(preact_min[\"h\"])(\n            \"span\",\n            {\n              \"class\": [\"badge\", \"badge-pill\", \"badge-info\", movie_style_default.a.genreBadge].join(\" \")\n            },\n            genre\n          );\n        })\n      )\n    );\n  };\n\n  return Movie;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./routes/movies/movies-presentation.js\n\n\n\n\n\n\nvar movies_presentation__ref2 = Object(preact_min[\"h\"])(\n  \"h2\",\n  null,\n  \"Movies\"\n);\n\n/* harmony default export */ var movies_presentation = (function (_ref) {\n  var movies = _ref.movies,\n      observer = _ref.observer;\n  return Object(preact_min[\"h\"])(\n    \"div\",\n    { \"class\": style_default.a.movies },\n    movies_presentation__ref2,\n    Object(preact_min[\"h\"])(\n      \"div\",\n      { \"class\": \"card-deck\" },\n      movies.map(function (movie) {\n        return Object(preact_min[\"h\"])(movie_Movie, { movie: movie, observer: observer });\n      })\n    )\n  );\n});\n// CONCATENATED MODULE: ./routes/movies/movies-container.js\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction movies_container__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction movies_container__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction movies_container__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar movies_container_MoviesContainer = function (_Component) {\n  movies_container__inherits(MoviesContainer, _Component);\n\n  function MoviesContainer() {\n    movies_container__classCallCheck(this, MoviesContainer);\n\n    var _this = movies_container__possibleConstructorReturn(this, _Component.call(this));\n\n    _this.state = {\n      movies: []\n    };\n\n    _this.onIntersection = function (entries) {\n      var movies = _this.state.movies;\n\n\n      entries.forEach(function (entry) {\n        var id = +entry.target.dataset.id;\n        var movie = movies.find(function (m) {\n          return m.id === id;\n        });\n        if (movie) {\n          movie.isVisible = movie.isVisible || entry.isIntersecting;\n        }\n      });\n\n      _this.setState({ movies: movies });\n    };\n\n    _this.observer = new IntersectionObserver(_this.onIntersection);\n    _this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\n    return _this;\n  }\n\n  MoviesContainer.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    fetch(\"/api/movies.json\").then(function (rsp) {\n      return rsp.json();\n    }).then(function (movies) {\n      return _this2.setState({ movies: movies });\n    });\n  };\n\n  MoviesContainer.prototype.render = function render(_ref, _ref2) {\n    var movies = _ref2.movies;\n\n    _objectDestructuringEmpty(_ref);\n\n    return Object(preact_min[\"h\"])(movies_presentation, { movies: movies, observer: this.observer });\n  };\n\n  return MoviesContainer;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib?{\"babelrc\":false,\"presets\":[[\"C://Repos//preact-workshop//node_modules//babel-preset-env//lib//index.js\",{\"loose\":true,\"uglify\":true,\"modules\":false,\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"C://Repos//preact-workshop//node_modules//babel-preset-stage-1//lib//index.js\"],\"plugins\":[\"C://Repos//preact-workshop//node_modules//babel-plugin-transform-object-assign//lib//index.js\",\"C://Repos//preact-workshop//node_modules//babel-plugin-transform-decorators-legacy//lib//index.js\",\"C://Repos//preact-workshop//node_modules//babel-plugin-transform-react-constant-elements//lib//index.js\",\"C://Repos//preact-workshop//node_modules//babel-plugin-transform-react-remove-prop-types//lib//index.js\",[\"C://Repos//preact-workshop//node_modules//babel-plugin-transform-react-jsx//lib//index.js\",{\"pragma\":\"h\"}],[\"C://Repos//preact-workshop//node_modules//babel-plugin-jsx-pragmatic//jsx-pragmatic.js\",{\"module\":\"preact\",\"export\":\"h\",\"import\":\"h\"}]]}!./routes/movies/index.js\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"default\", function() { return movies_container_MoviesContainer; });\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.chunk.6631f.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"movies\":\"movies__2myFi\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/movies/style.css\n// module id = 32yg\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"movieCard\":\"movieCard__jy7Ol\",\"genreBadge\":\"genreBadge__1d5Jq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/movie/style.css\n// module id = I8zr\n// module chunks = 0","import { h, Component } from \"preact\";\r\nimport { Link } from \"preact-router\";\r\nimport style from \"./style\";\r\n\r\nexport default class Movie extends Component {\r\n  element = null;\r\n\r\n  componentDidMount() {\r\n    this.props.observer.observe(this.element);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.observer.unobserve(this.element);\r\n  }\r\n\r\n  render({ movie }) {\r\n    return (\r\n      <div\r\n        class={[\"card\", style.movieCard].join(\" \")}\r\n        ref={el => (this.element = el)}\r\n        data-id={movie.id}\r\n      >\r\n        <img\r\n          class=\"card-img-top\"\r\n          src={\r\n            movie.isVisible\r\n              ? movie.image\r\n              : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAoMBgDTD2qgAAAAASUVORK5CYII=\"\r\n          }\r\n          alt=\"Card image cap\"\r\n          height=\"140\"\r\n        />\r\n        <div class=\"card-body\">\r\n          <h4 class=\"card-title\">{movie.title}</h4>\r\n          <Link href={`/movie/${movie.id}`}>Edit</Link>\r\n          <p class=\"card-text\">{movie.overview}</p>\r\n        </div>\r\n        <div class=\"card-footer text-cente\">\r\n          {movie.genres.map(genre => (\r\n            <span\r\n              class={[\r\n                \"badge\",\r\n                \"badge-pill\",\r\n                \"badge-info\",\r\n                style.genreBadge\r\n              ].join(\" \")}\r\n            >\r\n              {genre}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/movie/index.js","import { h, Component } from \"preact\";\r\nimport style from \"./style\";\r\n\r\nimport Movie from \"../../components/movie\";\r\n\r\nexport default ({ movies, observer }) => (\r\n  <div class={style.movies}>\r\n    <h2>Movies</h2>\r\n    <div class=\"card-deck\">\r\n      {movies.map(movie => <Movie movie={movie} observer={observer} />)}\r\n    </div>\r\n  </div>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/movies/movies-presentation.js","import { h, Component } from \"preact\";\r\nimport MoviesPresentation from \"./movies-presentation\";\r\n\r\nexport default class MoviesContainer extends Component {\r\n  state = {\r\n    movies: []\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.observer = new IntersectionObserver(this.onIntersection);\r\n    this.observer.POLL_INTERVAL = 100; // Time in milliseconds for the polyfill.\r\n  }\r\n\r\n  onIntersection = entries => {\r\n    const { movies } = this.state;\r\n\r\n    entries.forEach(entry => {\r\n      const id = +entry.target.dataset.id;\r\n      const movie = movies.find(m => m.id === id);\r\n      if (movie) {\r\n        movie.isVisible = movie.isVisible || entry.isIntersecting;\r\n      }\r\n    });\r\n\r\n    this.setState({ movies });\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\"/api/movies.json\")\r\n      .then(rsp => rsp.json())\r\n      .then(movies => this.setState({ movies }));\r\n  }\r\n\r\n  render({}, { movies }) {\r\n    return <MoviesPresentation movies={movies} observer={this.observer} />;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./routes/movies/movies-container.js"],"sourceRoot":""}